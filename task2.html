<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Задание 2</title>

        <script type="text/javascript">

            // Создаем массив для записи использованных вопросов
            var useded = [];

            // Функция получение целого рандомного числа из указаного диапазона
            function getRandomInt(max) {
                while (true) {
                    
                    // Получаем рандомное число
                    var num = Math.floor(Math.random() * Math.floor(max));
                    
                    // Сравниваем использовалось ли число ранее
                    if(useded.indexOf(num) == -1) {

                        // Если нет то возвращаем это число
                        useded.push(num);
                        return num;
                    }
                    if(useded.length == max) {

                        // Если уже все числа использованы возвращаем переданное нам число
                        return max;
                    } 
                }
            }
        
            // Функция загадок
            function riddle() {

                // Создаем переменную для подсчета правильных ответов и задаем количество доп вопросов
                var right = 0;
                var additional = 4;

                // Создаем массив массивов загадок/ответов
                var quests = [["В лесу родилась ёлочка, в лесу она ...", "росла"],
                    ["Ехал Грека через реку, видит Грека в реке ...", "рак"],
                    ["Придёт серенький волчок и ухватит за ...", "бочок"],
                    ["Быть или не быть, вот в чем ...", "вопрос"],
                    ["Ехали медведи на ...", "велосипеде"],
                    ["Люблю тебя Петра ...", "творенье"],
                    ["Хъюстон, у нас ...", "проблемы"],
                    ["Жили-были дед да ...", "бабка"]];

                // Цикл для последовательной подачи вопросов
                for(var i = additional; i > 0; i -= 1) {

                    // Получаем рандомное число от 0 до n, где n - количество загадок в массиве
                    var quest = getRandomInt(quests.length);
                
                    // Получаем ответ на вопрос
                    var answer = prompt("Закончите фразу '" + quests[quest][0] + "'").toLowerCase();

                    // Сравниваем ответ пользователя с правильными ответами
                    if(answer == quests[quest][1]) {

                        alert("Поздравляю, Верно!");

                        // Если ответил с первого раза, выходим из игры
                        if(i == additional) {
                            alert("Игра окончена!");
                            return;
                        }

                        // Считаем количество правильных ответов
                        right += 1;

                    } else if(answer == 'бочек' && quest == 2) {
                        alert("Бочки это конечно хорошо, но кусать неудобно ;)");
                    } else {
                        alert("Неверно =(");
                    }

                }

                // Обнуляем массив использованых вопросов
                useded = [];

                // Сообщаем об окончании и показываем количество верных ответов
                alert("Игра окончена! Верных ответов: " + right);

            }

            // Функция рассчета депозита
            function deposit() {
                
                // Задаем количество лет для рассчета
                var years = 5;

                // Получаем данные отпользователя
                var money = +prompt("Введите сумму вклада: ");
                var rate = +prompt("Задайте процентную ставку: ");

                for(var i = 1; i <= years; i += 1) {

                    // Рассчитываем сумму
                    money = money + money * rate / 100;

                    // Показываем пользователю результат
                    alert("Сумма на " + i + " год вклада: " + money.toFixed(2));
                }
                
            }

        </script>

	</head>
    <body>

        <div style="display: block; text-align: center;">

            <!-- Кнопка вызова функции загадок -->
            <button onclick="riddle()">Загадка</button>

            <!-- Кнопка вызова функции рассчета банковского вклада -->
            <button onclick="deposit()">Банковский вклад</button>
    
        </div>

	</body>
</html>    